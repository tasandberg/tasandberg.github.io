{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/blog/fatal-a-branch-named-gh-pages-already-exists",
    "result": {"data":{"markdownRemark":{"html":"<p>A small attempt to save someone else some headscratching and pain over this silly little error.</p>\n<p>Early on in developing this site, I was using the <code class=\"language-text\">gh-pages</code> npm package to do some preliminary deployments of the site, just to get the plumbing all working.</p>\n<h2>The problem</h2>\n<p>My deploy script in my <code class=\"language-text\">package.json</code> looks like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"deploy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby build &amp;&amp; gh-pages -d public\"</span><span class=\"token punctuation\">,</span>\n    ...\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>but running it produced the error <code class=\"language-text\">fatal: A branch named 'gh-pages' already exists.</code>\n<img src=\"src/images/screen-shot-2021-12-30-at-1-38-14-pm.png\" alt=\"\">\nIt just made no sense.</p>\n<h2>The fix</h2>\n<p>The simple fix was clearing out the gh-pages cache in node_modules:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># from project root</span>\n$ <span class=\"token function\">rm</span> -rf node_modules/.cache/gh-pages/</code></pre></div>\n<p>Turns out to be some bug in the way gh-pages caches builds or assets. I had too many things to do to dig in further but hopefully this helps someone.</p>","frontmatter":{"title":"fatal: A branch named 'gh-pages' already exists.","date":"December 30, 2021","tags":["gatsby","reactjs","github pages"]}}},"pageContext":{"slug":"blog/fatal-a-branch-named-gh-pages-already-exists"}},
    "staticQueryHashes": ["3649515864","63159454"]}